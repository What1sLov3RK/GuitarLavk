{% extends 'base.html' %}
{% load static %}

{% block content %}
<div id="cart-wrapper">
    <div id="cart-top">
        <div>Item Name</div>
        <div>Quantity</div>
        <div>Price</div>
    </div>

    <div id="checkout">
        <h2>Checkout</h2>
        <br>
        <form method="POST">
            {% csrf_token %}
            {{ order_form.as_p }}
            <h4>Total: {{ total_price }} $</h4>
            <button type="submit" id="button-order-submit">Submit Order</button>
        </form>
    </div>

    {% for item in cart_items %}
    <div class="cart-item">
        <div class="cart-item-picture">
            <img src="{{ item.product.picture.url }}" alt="{{ item.product.type }}">
        </div>
        <div class="cart-item-description">
            {{ item.product.type }}, {{ item.product.brand }} {{ item.product.model }}<br>
            {{ item.product.description }}
        </div>
        <div class="cart-item-quantity">
            <a class="cart-quantity-buttons" href="{% url 'remove_from_cart' cart_item_id=item.id %}">-</a>
            {{ item.quantity }}
            <a class="cart-quantity-buttons" href="{% url 'add_to_cart' product_slug=item.product.slug %}">+</a>
        </div>
        <div class="cart-item-price">{{ item.get_item_price }} $</div>
    </div>
    {% endfor %}
</div>
{% endblock %}
